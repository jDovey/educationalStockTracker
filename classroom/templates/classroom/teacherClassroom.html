{% extends 'core/base.html' %}

{% block title %}{{ classroom.name }}{% endblock %}
    
{% block content %}

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

<h1>{{ classroom.name }}: {{ classroom.passcode }}</h1>
<h2>{{ classroom.teacher.user.username }}</h2>

<table class="table table-striped table-dark table-hover styled-table">
    <thead>
        <tr>
            <th>Username</th>
            <th>Overall Balance</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for student in classroomStudents %}
        <tr>
            <td>{{ student.user.username }}</td>
            <td>${{ student.total_value }}</td>
            <td>
            <div class="btn-group" role="group" aria-label="Basic outlined example">
                <a href="{% url 'classroom:editStudent' student.user_id %}" class="btn btn-outline-warning btn-sm" title="Edit student"><i class="material-symbols-outlined">edit</i></a>
                <a href="{% url 'classroom:removeStudent' student.user_id %}" class="btn btn-outline-danger btn-sm" title="Remove student" onclick="return confirm('Are you sure?');"><i class="material-symbols-outlined">delete</i></a>
            </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<table class="table table-striped table-dark table-hover styled-table">
    <thead>
        <tr>
            <th>Lesson</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for lesson in classroomLessons %}
        <tr>
            <td><a href="{% url 'classroom:previewLesson' classroom.id lesson.id %}">{{ lesson.title }}</a></td>
            <td>{{ lesson.status }}</td>
            <td>
            <div class="btn-group" role="group" aria-label="Basic outlined example">
                <a href="{% url 'classroom:editLesson' classroom.id lesson.id %}" class="btn btn-outline-warning btn-sm" title="Edit lesson"><i class="material-symbols-outlined">edit</i></a>
                <a href="{% url 'classroom:deleteLesson' classroom.id lesson.id %}" class="btn btn-outline-danger btn-sm" title="Remove lesson" onclick="return confirm('Are you sure?');"><i class="material-symbols-outlined">delete</i></a>
            </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href="{% url 'classroom:newLesson' classroom.id %}" class="btn btn-primary">Create Lesson</a>
{% endblock %}